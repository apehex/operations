#!/bin/bash
FILENAME=${1:-"server"}

# Generate a public/private key pair:
openssl genrsa -out $FILENAME.key 1024

# Generate a self signed certificate:
# -subj "/C=US/ST=Oregon/L=Portland/O=Company Name/OU=Org/CN=example.com/emailAddress=contact@example.com" # required information
openssl req -new -key $FILENAME.key -x509 -sha256 -days 3653 -out $FILENAME.crt

# Generate the PEM file by just appending the key and certificate files:
cat $FILENAME.key $FILENAME.crt >$FILENAME.pem
